import os
import asyncio
import logging
import sqlite3
from datetime import datetime, timedelta, timezone
from typing import Optional, List, Tuple

from aiogram import Bot, Dispatcher, F
from aiogram.types import (
    Message, InlineKeyboardMarkup, InlineKeyboardButton, CallbackQuery
)
from aiogram.filters import CommandStart
from aiogram.client.default import DefaultBotProperties

from aiogram.types import InputMediaPhoto
# ================= –ù–ê–°–¢–†–û–ô–ö–ò =================

TOKEN = os.getenv("BOT_TOKEN")
if not TOKEN:
    raise RuntimeError("BOT_TOKEN is not set. Put it in .env or environment variables.")
ADMIN_IDS = [313372023, 893519113]  # –¥–æ–±–∞–≤—å —Å—é–¥–∞ –Ω—É–∂–Ω—ã–µ ID

DB_PATH = "bot.sqlite3"

VIDEO_ENABLED = False
VIDEO_FILE_ID = "–°–Æ–î–ê_FILE_ID_–í–ò–î–ï–û_–ö–û–ì–î–ê_–ë–£–î–ï–¢"

TEST_MODE = True
TEST_DELAY_SECONDS = 10  # 1 –º–∏–Ω—É—Ç–∞ –Ω–∞ —à–∞–≥ (–¥–ª—è —Ç–µ—Å—Ç–∞)

DISCOUNT_PRICE = 2030
FULL_PRICE = 2900

STEP2_PHOTOS = [
    "AgACAgIAAxkBAAOdaaAKHS1q1EwOTzO1p3op9dHuw2UAAg0TaxtizAABSYD8AxiJxqOYAQADAgADeQADOgQ",
    "AgACAgIAAxkBAAOeaaAKHRUMjz4WNmv8Fc-_TuZlR0wAAg4TaxtizAABSZ34k_vVUcXeAQADAgADeQADOgQ",
    "AgACAgIAAxkBAAOfaaAKHVA84zoFHezf2VnPYjYAARaOAAIPE2sbYswAAUn320evXjxLhwEAAwIAA3kAAzoE",
    "AgACAgIAAxkBAAOgaaAKHbu9fdKiiwrgBUrB9LG53swAAhATaxtizAABSWmna_Nyt5EvAQADAgADeQADOgQ",
    "AgACAgIAAxkBAAOhaaAKHfFPylXzsFcDRsTo8xkz8QgAAhETaxtizAABSQoJr8-B3wSxAQADAgADeQADOgQ",
    "AgACAgIAAxkBAAOiaaAKHa9-HQnLfWRoEL38bLEvCvkAAhITaxtizAABSTwW63TvSTRgAQADAgADeQADOgQ",
    "AgACAgIAAxkBAAOjaaAKHYyK9cy0RQo3jKNzo2bPyawAAhMTaxtizAABSbxdOqGgFvjIAQADAgADeQADOgQ",
    "AgACAgIAAxkBAAOkaaAKHVKXv5qW32WTgl3lxrS0UJMAAhQTaxtizAABSbni7Sdkst3HAQADAgADeQADOgQ",
]

DETAILS_TEXT = (
    """
    <b>–ß–¢–û –¢–ê–ö–û–ï –ü–†–û–ï–ö–¢ ¬´–ö–ê–ö –ù–ê–ô–¢–ò –°–í–û–Å –ü–†–ï–î–ù–ê–ó–ù–ê–ß–ï–ù–ò–ï¬ª?</b>

    –Ø —Å–æ–∑–¥–∞–ª–∞ —ç—Ç–æ—Ç –∫—É—Ä—Å –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –ø–æ—Ç–µ—Ä—è–ª —Å–µ–±—è, –∏ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–µ –∑–Ω–∞–µ—Ç, –∫–µ–º —Ö–æ—á–µ—Ç –±—ã—Ç—å, –∫–æ–≥–¥–∞ –≤—ã—Ä–∞—Å—Ç–µ—Ç ü•∫

    –ï—Å–ª–∏ –≤—ã:

    ‚Äî <i>–∑–∞–¥–∞—ë—Ç–µ—Å—å –≤–æ–ø—Ä–æ—Å–æ–º –æ —Å–º—ã—Å–ª–µ –∂–∏–∑–Ω–∏ [—Å–≤–æ–µ–π –∂–∏–∑–Ω–∏]</i>
    ‚Äî <i>–Ω–µ –∑–Ω–∞–µ—Ç–µ, —á–µ–º —Ö–æ—Ç–µ–ª–∏ –±—ã –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –∏ —á—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –≤–∞—Å —Å—á–∞—Å—Ç–ª–∏–≤—ã–º–∏</i>
    ‚Äî <i>–Ω–µ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–∂–∏—Ç—å –≤—Å—é –∂–∏–∑–Ω—å –≤ –≤–µ—á–Ω—ã—Ö –ø–æ–∏—Å–∫–∞—Ö,</i>

    –Ø —Ö–æ—á—É –≤–∞–º –ø–æ–º–æ—á—å! ü´Ç

    –ù–∞ –ø—Ä–æ–µ–∫—Ç–µ –≤—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–π–º—ë—Ç–µ, –∫–∞–∫–∞—è –ø—Ä–æ—Ñ–µ—Å—Å–∏—è –≤–∞–º –ø–æ–¥—Ö–æ–¥–∏—Ç.
    <b>–≠—Ç–æ –±—É–¥–µ—Ç –ì–õ–£–ë–ò–ù–ù–ê–Ø –†–ê–ë–û–¢–ê, –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ—Ç–æ—Ä–æ–π –≤—ã:</b>

    ‚Ä¢ <i>–Ω–∞—É—á–∏—Ç–µ—Å—å –ø–æ–Ω–∏–º–∞—Ç—å –∏ —Å–ª—ã—à–∞—Ç—å —Å–µ–±—è</i>
    ‚Ä¢ <i>–≤—ã—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –±–æ–ª–µ–µ –∑–¥–æ—Ä–æ–≤—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å —Å–æ–±–æ–π –∏ –æ–∫—Ä—É–∂–∞—é—â–∏–º–∏</i>
    ‚Ä¢ <i>—Å–º–æ–∂–µ—Ç–µ —Ö–æ—Ä–æ—à–æ —É–∑–Ω–∞—Ç—å —Å–µ–±—è –∏ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å–æ —Å–≤–æ–∏–º–∏ —É–±–µ–∂–¥–µ–Ω–∏—è–º–∏, —Ü–µ–Ω–Ω–æ—Å—Ç—è–º–∏, –º–µ—á—Ç–∞–º–∏</i>
    ‚Ä¢ <i>–≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é –∂–∏–∑–Ω—å —Ç–∞–∫, —á—Ç–æ–±—ã –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤–µ–ª–æ –≤–∞—Å –∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é –º–µ—á—Ç—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è</i>

    üìå <b>–ö—É—Ä—Å –±—É–¥–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ —Ç–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª–∞:</b>
    –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤–∞–º –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏ –ø—Ä–∞–∫—Ç–∏–∫–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤—ã–¥–µ–ª—è—Ç—å <b>–æ—Ç 5 –¥–æ 60 –º–∏–Ω—É—Ç –≤ –¥–µ–Ω—å</b>.

    –¢–∞–∫–∂–µ —É –Ω–∞—Å –±—É–¥–µ—Ç <b>–æ–±—â–∏–π —á–∞—Ç</b> —Å–æ –≤—Å–µ–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏, –≥–¥–µ –º—ã –±—É–¥–µ–º –¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏ –∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞.
    <b>–Ø —Ç–æ–∂–µ –≤—Å–µ–≥–¥–∞ –±—É–¥—É –Ω–∞ —Å–≤—è–∑–∏</b>, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –∏–ª–∏ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å! ü§≤üèª

    <i>–ù–∏–∫–∞–∫–∏—Ö —Å–∫—É—á–Ω—ã—Ö –ª–µ–∫—Ü–∏–π –∏ –Ω—Ä–∞–≤–æ—É—á–µ–Ω–∏–π, —Ç–æ–ª—å–∫–æ –ø—Ä–∞–∫—Ç–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –Ω–∞–π—Ç–∏ —Å–µ–±—è</i> ‚ù§Ô∏è‚Äçüî•

    –ù–∞ —Ñ–æ—Ç–æ —Ç—ã –º–æ–∂–µ—à—å <b>–∏–∑—É—á–∏—Ç—å</b> –ø–æ–¥—Ä–æ–±–Ω–æ–µ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ 24 –¥–Ω–µ–π –∫—É—Ä—Å–∞, –∞ –≤–æ–ª—à–µ–±–Ω–∞—è –∫–Ω–æ–ø–æ—á–∫–∞ –Ω–∏–∂–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç —Ç–µ–±—è –Ω–∞ –ø—É—Ç—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Å–≤–æ–µ–π –º–∏—Å—Å–∏–∏ üëáüèª
    """
)

logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s | %(levelname)s | %(message)s"
)

def delay(minutes: int = 0, hours: int = 0) -> int:
    if TEST_MODE:
        return TEST_DELAY_SECONDS
    return minutes * 60 + hours * 3600

# ============================================

bot = Bot(
    token=TOKEN,
    default=DefaultBotProperties(parse_mode="HTML")
)
dp = Dispatcher()

# ================= –¢–ï–ö–°–¢–´ =================

text_1 = "–ü—Ä–∏–≤–µ—Ç! –ù–∞ —Å–≤—è–∑–∏ —Ä–∏—Ç–∞–ª–ø–∏–∞—àüíõ\n\n–û—Ç–ø—Ä–∞–≤–ª—è—é —Ç–µ–±–µ <b>–≤–∏–¥–µ–æ-—É—Ä–æ–∫ ¬´–ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–≤–æ—ë –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ?¬ª</b>, —Ö–æ—Ä–æ—à–µ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞! <i> \n\nP.s. –≠—Ç–∏ 30 –º–∏–Ω—É—Ç –º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Ç–≤–æ—é –∂–∏–∑–Ω—å</i>üëÄ"

text_2 = "–ù—É –∫–∞–∫ —Ç—ã –ø–æ—Å–ª–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞?\n\n–ï—Å–ª–∏ –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ —Ç–µ–º–∞ —Ç–µ–±–µ –±–ª–∏–∑–∫–∞ –∏ —Ö–æ—á–µ—Ç—Å—è –≥–ª—É–±–∂–µ –≤ –Ω–µ—ë –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è, –≤–º–µ—Å—Ç–µ –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º —Å–µ–±—è: —Å–≤–æ–∏—Ö –∂–µ–ª–∞–Ω–∏–π, —ç–º–æ—Ü–∏–π, –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π, –º–µ—á—Ç –∏ —Ü–µ–ª–µ–π, –ø—Ä–∏–≥–ª–∞—à–∞—é —Ç–µ–±—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ <b>–ø–æ–ª–Ω–æ–º—É –∫—É—Ä—Å—É</b> ¬´–ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–≤–æ—ë –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ?¬ª‚ù§Ô∏è‚Äçü©π\n\nüìå–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫—É—Ä—Å–∞ - <b>25 –¥–Ω–µ–π</b>, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç –ø–æ—Å–≤—è—â–µ–Ω –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ç–µ–º–µ <i>(–Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∫—É—Ä—Å–∞ —Ç—ã –º–æ–∂–µ—à—å –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –Ω–∞ —Ñ–æ—Ç–æ). </i><b>90% –∫—É—Ä—Å–∞ - –ø—Ä–∞–∫—Ç–∏–∫–∞</b>, –∏ —Ç–æ–ª—å–∫–æ –º–∏–Ω–∏–º—É–º —Ç–µ–æ—Ä–∏–∏. –Ø —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥–æ–±—Ä–∞–ª–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –º–µ–¥–∏—Ç–∞—Ü–∏–∏, –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ –∑–∞–¥–∞–Ω–∏—è, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö —Ç—ã —Å–º–æ–∂–µ—à—å <i>–Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–Ω—è—Ç—å</i> —á—Ç–æ-—Ç–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º—ã—Å–ª–µ–π –∏ —á—É–≤—Å—Ç–≤, –Ω–æ –∏ <i>–∑–∞–∫—Ä–µ–ø–∏—Ç—å –≤—Å–µ –∏–Ω—Å–∞–π—Ç—ã –¥–µ–π—Å—Ç–≤–∏—è–º–∏</i>, –≤–µ–¥—å —Ç–æ–ª—å–∫–æ –Ω–∞—à–∏ –ø–æ—Å—Ç—É–ø–∫–∏ —Å–ø–æ—Å–æ–±–Ω—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∂–∏–∑–Ω—å.\n\n–ö—É—Ä—Å —Å—Ç–∞—Ä—Ç—É–µ—Ç 30 –º–∞—Ä—Ç–∞, —É—Å–ø–µ–≤–∞–π—Ç–µ –∑–∞–Ω—è—Ç—å –º–µ—Å—Ç–æ! <i>(–î–∞, –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ, —Ç–∞–∫ –∫–∞–∫ —è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –±—É–¥—É —Å–æ –≤—Å–µ–º–∏ –æ–±—â–∞—Ç—å—Å—è –∏ –æ—Ç–≤–µ—á–∞—Ç—å –∫–∞–∂–¥–æ–º—É)</i>\n\n–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –≤–∞—Å —è –¥–∞—é <b>—Å–∫–∏–¥–∫—É 30% —Ä–æ–≤–Ω–æ –Ω–∞ —á–∞—Å</b> –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —ç—Ç–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è! –í —Ç–µ—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ —á–∞—Å–∞ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –∫—É—Ä—Å –∑–∞ <b>2030</b> —Ä—É–±–ª–µ–π –≤–º–µ—Å—Ç–æ 2900ü§Ø <i>(–ë–æ–ª—å—à–µ —Ç–∞–∫–æ–π —Å–∫–∏–¥–∫–∏ –Ω–µ –±—É–¥–µ—Ç! –ê –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å - —á—Ç–æ–±—ã –≤—ã –Ω–µ —Ç—è–Ω—É–ª–∏</i>üòã<i>) </i>"

text_3 = "–£ –≤–∞—Å –±—ã–≤–∞–ª–æ —Ç–∞–∫–æ–µ, —á—Ç–æ –≤—Ä–æ–¥–µ <b>–≥–æ–ª–æ–≤–æ–π –≤—Å—ë –ø–æ–Ω–∏–º–∞–µ—à—å</b>, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –æ—Å—Ç–∞–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å ¬´<b>–ê –¥–µ–ª–∞—Ç—å-—Ç–æ —á—Ç–æ?</b>¬ª\n\n–¢–∞–∫–æ–µ —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç –ø—Ä–∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–∏ –≤—Å—è–∫–∏—Ö –ø–æ–¥–∫–∞—Å—Ç–æ–≤, –ª–µ–∫—Ü–∏–π, –∏–Ω—Ç–µ—Ä–≤—å—é –∏ —Ç–¥. –õ—é–¥–∏ –¥–µ–ª—è—Ç—Å—è –≤–∞–∂–Ω—ã–º–∏ –º—ã—Å–ª—è–º–∏ –∏ –∑–Ω–∞–Ω–∏—è–º–∏, –Ω–æ –±–µ–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –≤–∞—à–µ–π –∂–∏–∑–Ω–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è –æ—Ç —ç—Ç–∏—Ö ‚ú®<b>–∏–Ω—Å–∞–π—Ç–æ–≤</b>‚ú®\n\n–ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É 90% –º–æ–µ–≥–æ –∫—É—Ä—Å–∞ –ø–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ <b>–ø—Ä–∞–∫—Ç–∏–∫–∏</b>. –Ø –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å—Å–∫–∞–∂—É –≤–∞–º, –∫–∞–∫ –Ω–∞–π—Ç–∏ —Å–≤–æ—ë –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ. –Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ. –≠—Ç–æ –Ω–µ –ª–µ–∫—Ü–∏–∏, —ç—Ç–æ <b>–µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</b> –∏ –ø—Ä–∞–∫—Ç–∏–∫–∏, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö —Ç—ã –Ω–∞–∫–æ–Ω–µ—Ü —Å–º–æ–∂–µ—à—å –ø–æ–Ω—è—Ç—å, —á—Ç–æ —Ç–µ–±–µ –¥–µ–ª–∞—Ç—å. <i>–¢–µ–±–µ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–Ω–∞—Ç—å —Ç–µ–æ—Ä–∏—é, –≤–∞–∂–Ω–µ–µ - –¥–æ–±–∏—Ç—å—Å—è –∂–µ–ª–∞–µ–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π</i>üòº\n\n–ö—É—Ä—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–¥–µ–ª–∞–Ω <b>–≤—Ä—É—á–Ω—É—é</b> –º–Ω–æ–π, –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–æ–∏—Ö –∑–Ω–∞–Ω–∏–π –ø–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏ –∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –æ–ø—ã—Ç–∞. –Ø –¥–æ–±–∞–≤–∏–ª–∞ —Ç–æ–ª—å–∫–æ —Ç–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ <b>–ø–æ–º–æ–≥–ª–∏ –º–Ω–µ —Å–∞–º–æ–π</b>. –ù–∏ –Ω–∞ –æ–¥–Ω–æ–º —ç—Ç–∞–ø–µ —è –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –ò–ò (—á–∞—Ç–∏–∫ –¥–∂–∏–ø–∏—Ç–∏ –≤—ã –∏ —Å–∞–º–∏ –º–æ–∂–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ). –ú–Ω–µ –±—ã–ª–æ –≤–∞–∂–Ω–æ –≤–ª–æ–∂–∏—Ç—å —Å–≤–æ—é —ç–Ω–µ—Ä–≥–∏—é –≤ —ç—Ç–æ—Ç –ø—Ä–æ–¥—É–∫—Ç.\n\n–û–Ω —Ç–æ—á–Ω–æ –≤–∞–º –ø–æ–º–æ–∂–µ—Ç, –≤–µ–¥—å –∫—É—Ä—Å ¬´–ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–≤–æ—ë –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ?¬ª - –±—É–∫–≤–∞–ª—å–Ω–æ <b>—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–µ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è</b>. <i>–î–ª—è –º–µ–Ω—è —ç—Ç–æ –æ—á–µ–Ω—å —Å–∏–º–≤–æ–ª–∏—á–Ω–æ</i>ü•π"

text_4 = "<b>–í –ß–Å–ú –°–ú–´–°–õ –ñ–ò–ó–ù–ò?</b>\n\n–í—ã –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å –∑–∞–¥—É–º—ã–≤–∞–ª–∏—Å—å –Ω–∞–¥ —ç—Ç–∏–º –≤–æ–ø—Ä–æ—Å–æ–º? –ï—Å–ª–∏ –ø–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –≤–∞—Å –¥–æ —Å–∏—Ö –ø–æ—Ä –∞–∫—Ç—É–∞–ª–µ–Ω, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –¥–æ—á–∏—Ç–∞—Ç—å –¥–æ –∫–æ–Ω—Ü–∞!üëáüèª\n\n–ü—Ä–µ–¥–ª–∞–≥–∞—é –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å –ø–æ–¥ –¥—Ä—É–≥–∏–º —É–≥–ª–æ–º. <b>–ß—Ç–æ, –µ—Å–ª–∏ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –Ω–µ–≥–æ?</b> –ß—Ç–æ –µ—Å–ª–∏ <b>–ù–ï –ú–´</b> –∑–∞–¥–∞–µ–º –∂–∏–∑–Ω–∏ –≤–æ–ø—Ä–æ—Å ¬´<b>–≤ —á—ë–º —Ç–≤–æ–π —Å–º—ã—Å–ª?</b>¬ª, –∞ <b>–ñ–ò–ó–ù–¨ –ù–ê–ú?</b>\n\n–ï–∂–µ–¥–Ω–µ–≤–Ω–æ, —Å—Ç–∞–ª–∫–∏–≤–∞—è –Ω–∞—Å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏, –∂–∏–∑–Ω—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É –Ω–∞—Å ¬´<i>–ê –≤ —á—ë–º —Ç–≤–æ–π —Å–º—ã—Å–ª?</i>¬ª. –ê –Ω–∞—à–∞ –∑–∞–¥–∞—á–∞ - <b>—Å–≤–æ–∏–º–∏ –ø–æ—Å—Ç—É–ø–∫–∞–º–∏</b> –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å —Å–º—ã—Å–ª –≤ –∂–∏–∑–Ω–∏. –ù–∞–º –≤–∞–∂–Ω–æ <b>—É–≤–∏–¥–µ—Ç—å –µ–≥–æ –≤ —Å–µ–±–µ</b>‚ù§Ô∏è\n\n<b>–í–ê–® –°–ú–´–°–õ</b> - —ç—Ç–æ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –≤–∞—à–∏—Ö —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏. –ü–æ–ª—É—á–∞–µ—Ç—Å—è, –≤–∞–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–Ω—è—Ç—å —Å–≤–æ–∏ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –Ω–∞—á–∞—Ç—å –∏—Ö —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –≤ –∫–∞–∂–¥–æ–º –¥–Ω–µ?\n\n–ï—Å–ª–∏ –≤–∞–º –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥, –ø—Ä–∏–≥–ª–∞—à–∞—é –≤–∞—Å <b>–≤–º–µ—Å—Ç–µ –ø–æ–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Å–≤–æ–π —Å–º—ã—Å–ª</b> –Ω–∞ –º–æ—ë–º –∞–≤—Ç–æ—Ä—Å–∫–æ–º –∫—É—Ä—Å–µ ¬´–ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–≤–æ—ë –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ?¬ª‚¨áÔ∏è"

text_5 = "<b>–í–ê–ú –¢–û–ß–ù–û –≠–¢–û –ù–ê–î–û, –ï–°–õ–ò‚Ä¶</b>\n\nüíõ–í—ã —É—á–∏—Ç–µ—Å—å <b>–≤ —à–∫–æ–ª–µ</b>, –ø–æ–¥—Ö–æ–¥–∏—Ç –≤—Ä–µ–º—è –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ, <b>–∫—É–¥–∞ –∂–µ –ø–æ—Å—Ç—É–ø–∏—Ç—å</b>, –Ω–æ –≤—ã –≤ —Ä–∞—Å—Ç–µ—Ä—è–Ω–Ω–æ—Å—Ç–∏ –∏ —Å–æ–≤—Å–µ–º –Ω–µ –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ –≤—ã–±—Ä–∞—Ç—å. –í–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –º–Ω–æ–≥–æ —Å—Ñ–µ—Ä, –∞ –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–∞–æ–±–æ—Ä–æ—Ç, –±—É–¥—Ç–æ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –Ω–∏—á–µ–≥–æ‚Ä¶–ê –º–æ–∂–µ—Ç, –≤—ã –±–æ–∏—Ç–µ—Å—å, —á—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∞—è –≤–∞—Å —Å—Ñ–µ—Ä–∞ –Ω–µ –ø—Ä–∏–Ω–µ—Å–µ—Ç –∂–µ–ª–∞–µ–º—ã–π –¥–æ—Ö–æ–¥ –∏ –ø–æ—ç—Ç–æ–º—É —Å–æ–º–Ω–µ–≤–∞–µ—Ç–µ—Å—å –≤ –≤—ã–±–æ—Ä–µ?\n\nüíõ–í—ã <b>—É–∂–µ –ø–æ—Å—Ç—É–ø–∏–ª–∏</b>, –Ω–æ —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å —Å –æ—â—É—â–µ–Ω–∏–µ–º ¬´<i>–∫–∞–∂–µ—Ç—Å—è, —ç—Ç–æ –Ω–µ –º–æ—ë‚Ä¶</i>¬ª. –ò –≤–æ—Ç –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–æ–ø—Ä–æ—Å ¬´<i>–ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?</i>¬ª.\n\n–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç–µ, –µ—Å—Ç—å –¥–∞–∂–µ —Ç–µ—Ä–º–∏–Ω - <b>–∫—Ä–∏–∑–∏—Å 2 –∫—É—Ä—Å–∞</b>: —Å –º–æ–º–µ–Ω—Ç–∞ –≤—ã–±–æ—Ä–∞ –±—É–¥—É—â–µ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –≤—ã –≤—ã—Ä–æ—Å–ª–∏, –≤–∞—à–∏ –≤–∑–≥–ª—è–¥—ã –Ω–∞ –∂–∏–∑–Ω—å –ø–æ–º–µ–Ω—è–ª–∏—Å—å –∏ —Ç–µ–ø–µ—Ä—å –≤—ã –≤ —Å–æ–º–Ω–µ–Ω–∏—è—Ö: –∫—É–¥–∞ –ª–∏ —è –ø–æ—à–ª–∞? –û—Ç—á–∏—Å–ª–∏—Ç—å—Å—è –∏–ª–∏ –¥–æ—É—á–∏—Ç—å—Å—è? <i>–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —É—á–µ–±—ã?</i>\n\nüíõ–í—ã <b>—É–∂–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏</b> —É—á–µ–±–Ω–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ, –Ω–æ —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ ‚Äì –∑–∞–≥–∞–¥–∫–∞. –í—ã —Ç–æ—á–Ω–æ –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ –≤–∞—à–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è –≤–∞–º –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è, –Ω–æ —á—Ç–æ –Ω—Ä–∞–≤–∏—Ç—Å—è ‚Äì –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç–µ. –° –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã ‚Äì —Ö–æ—á–µ—Ç—Å—è –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–µ–Ω—å–≥–∏, —Å –¥—Ä—É–≥–æ–π ‚Äì –Ω–µ —Ö–æ—á–µ—Ç—Å—è –≤—Å—é –∂–∏–∑–Ω—å –≥–æ—Ä–±–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –Ω–µ–ª—é–±–∏–º–æ–π —Ä–∞–±–æ—Ç–µ.\n\n–ú–Ω–µ –¥–æ –±–µ–∑—É–º–∏—è –∑–Ω–∞–∫–æ–º—ã –≤—Å–µ —ç—Ç–∏ —á—É–≤—Å—Ç–≤–∞, –∏ —è —Ö–æ—á—É –ø–æ–º–æ—á—å –≤–∞–º —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å —ç—Ç–∏–º. –ü–æ—ç—Ç–æ–º—É –ø—Ä–∏–≥–ª–∞—à–∞—é –Ω–∞ –∫—É—Ä—Å ¬´–ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–≤–æ—ë –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ?¬ª\n<i>(90% –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ —Ç–æ–ª—å–∫–æ 10% —Ç–µ–æ—Ä–∏–∏)</i>\n\n<b>–ö–ê–ö–û–ô –†–ï–ó–£–õ–¨–¢–ê–¢ –í–´ –ü–û–õ–£–ß–ò–¢–ï</b>üëáüèª\n\n–í—ã –Ω–∞—É—á–∏—Ç–µ—Å—å <b>–ø–æ–Ω–∏–º–∞—Ç—å —Å–µ–±—è</b>, —Å–≤–æ–∏ –∂–µ–ª–∞–Ω–∏—è, —ç–º–æ—Ü–∏–∏, –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏, —Ü–µ–Ω–Ω–æ—Å—Ç–∏. –ù–∞—É—á–∏—Ç–µ—Å—å –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –±–æ–ª–µ–µ –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã–µ <b>–æ—Ç–Ω–æ—à–µ–Ω–∏—è</b> —Å –æ–∫—Ä—É–∂–∞—é—â–∏–º–∏, –±–ª–∏–∑–∫–∏–º–∏. –≠—Ç–æ –≤—Å—ë, –≤ –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ, –ø–æ–º–æ–∂–µ—Ç –≤–∞–º <b>–Ω–∞–π—Ç–∏ —Å–µ–±—è</b>. –í—ã –ø–æ–ª—É—á–∏—Ç–µ –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –≤–∞–º –ø–æ–Ω—è—Ç—å —Å–≤–æ—ë –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ <b>—á—ë—Ç–∫–æ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é –º–∏—Å—Å–∏—é –≤ –∂–∏–∑–Ω–∏</b>. –í—ã –Ω–∞—É—á–∏—Ç–µ—Å—å <b>–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é –∂–∏–∑–Ω—å</b> —Ç–∞–∫, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–±–ª–∏–∂–∞–ª –≤–∞—Å –∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é –º–µ—á—Ç—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è. –î–Ω–∏ –Ω–∞–∫–æ–Ω–µ—Ü –ø–µ—Ä–µ—Å—Ç–∞–Ω—É—Ç –±—ã—Ç—å –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–º–∏, —Å–µ—Ä—ã–º–∏ –∏ –æ–¥–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º–∏. –í—ã –Ω–∞–∫–æ–Ω–µ—Ü —Å–º–æ–∂–µ—Ç–µ <b>–∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –º–µ—Ç–∞–Ω–∏–π</b>, –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ–≥–æ, –≤—Å–µ–ø–æ–≥–ª–æ—â–∞—é—â–µ–≥–æ —á—É–≤—Å—Ç–≤–∞ ¬´<i>—è –Ω–µ –∑–Ω–∞—é, —á–µ–≥–æ —è —Ö–æ—á—É –æ—Ç –∂–∏–∑–Ω–∏</i>¬ª. –í—ã –Ω–∞–π–¥—ë—Ç–µ –¥–ª—è —Å–µ–±—è —Å–≤–æ–π —Å–º—ã—Å–ª –∂–∏–∑–Ω–∏. –ò –ø–æ–π–º—ë—Ç–µ, –∫–∞–∫ –µ–≥–æ –≤–æ–ø–ª–æ—Ç–∏—Ç—å.\n\n<i>–ù–æ –≤—Å—ë –∑–∞–≤–∏—Å–∏—Ç –∏ –æ—Ç –≤–∞—à–∏—Ö —Å—Ç–∞—Ä–∞–Ω–∏–π —Ç–æ–∂–µ ;)</i>"

text_6 = "<b>–ê –í–î–†–£–ì –£ –ú–ï–ù–Ø –ù–ï –ü–û–õ–£–ß–ò–¢–°–Ø?</b>\n\n–í–∞–º –∑–Ω–∞–∫–æ–º–æ —ç—Ç–æ –æ–ø–∞—Å–µ–Ω–∏–µ?\n<i>¬´–í–¥—Ä—É–≥ —è –∫—É–ø–ª—é –∫—É—Ä—Å, –ø–æ—Ç—Ä–∞—á—É –≤—Ä–µ–º—è, —Å–∏–ª—ã, –¥–µ–Ω—å–≥–∏, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–µ –±—É–¥–µ—Ç‚Ä¶?¬ª</i>ü•∫\n\n–ó–Ω–∞–µ—Ç–µ, <b>—Ä–µ–∑—É–ª—å—Ç–∞—Ç - —ç—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–Ω—è—Ç–∏–µ.</b> –ö–∞–∫ –≤—ã –ø–æ–π–º—ë—Ç–µ, –ø–æ–ª—É—á–∏–ª–∏ –ª–∏ –≤—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç? –ï—Å–ª–∏ –≤—ã –ø—Ä–æ—Å—Ç–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –ø–æ–π–º—ë—Ç–µ —Å–≤–æ—ë –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ? –ò–ª–∏ –µ—Å–ª–∏ –≤–∞—à–∞ –∂–∏–∑–Ω—å –ø–µ—Ä–µ–≤–µ—Ä–Ω—ë—Ç—Å—è –Ω–∞ 180 –≥—Ä–∞–¥—É—Å–æ–≤ –∏ –≤—ã —Å—Ç–∞–Ω–µ—Ç–µ –¥—Ä—É–≥–∏–º —á–µ–ª–æ–≤–µ–∫–æ–º? –ï—Å–ª–∏ —Å–º–µ–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É –∏ –ø–æ–π–¥—ë—Ç–µ –ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ? –ò–ª–∏ –µ—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞—á–Ω—ë—Ç–µ —á—É—Ç—å –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å —Å–µ–±—è, —Å–ª—ã—à–∞—Ç—å —Å–≤–æ–∏ –∂–µ–ª–∞–Ω–∏—è?\n\n<b>–ü–æ–∏—Å–∫ —Å–≤–æ–µ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å.</b> –ò —Å–¥–µ–ª–∞–≤ —à–∞–≥ –≤ –µ–≥–æ —Å—Ç–æ—Ä–æ–Ω—É, –≤—ã –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å. –Ø –¥–∞–º –≤–∞–º –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∞ –¥–∞–ª—å—à–µ –≤—Å—ë –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤–∞—Åü§≤üèª\n\n–ê –Ω–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞–≤, –≤—ã –¥–∞–∂–µ –Ω–µ —É–∑–Ω–∞–µ—Ç–µ, –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –≤ –Ω–∞—á–∞–ª–µ —ç—Ç–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è :)"

text_7 = "<b>–ö–æ–≥–¥–∞ —á–µ–ª–æ–≤–µ–∫ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Ç–µ–º, —á—Ç–æ –µ–º—É –Ω—Ä–∞–≤–∏—Ç—Å—è, —É—Å–ø–µ—Ö –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å–∞–º.</b> –ö–æ–≥–¥–∞ –º—ã –∏–≥—Ä–∞–µ–º —á—É–∂–∏–µ —Ä–æ–ª–∏, –º—ã –≤—Å–µ–≥–¥–∞ –±—É–¥–µ–º –Ω–µ—É—Å–ø–µ—à–Ω—ã.\n\n–ü–æ–≤–µ—Ä—å—Ç–µ, —è –∑–Ω–∞—é, –æ —á—ë–º –≥–æ–≤–æ—Ä—é, –≤–µ–¥—å –≤ —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏ —è –±—ã–ª–∞ –∏ –ø–æ—á—Ç–∞–ª—å–æ–Ω–æ–º, –∏ –Ω—è–Ω–µ–π, –∏ –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–∫–æ–π, –∏ SMM, –∏ –±–µ–∑—Ä–∞–±–æ—Ç–Ω–æ–π. –Ø –ø–æ—Å—Ç—É–ø–∞–ª–∞, –∫–∞–∑–∞–ª–æ—Å—å, –≤ –í–£–ó –º–µ—á—Ç—ã, –∞ –ø–æ—Ç–æ–º —Ä–æ–∑–æ–≤—ã–µ –æ—á–∫–∏ —Å —Ç—Ä–µ—Å–∫–æ–º —Ä–∞–∑–±–∏–≤–∞–ª–∏—Å—å. –ò –≤ —ç—Ç–æ–º —Ç—Ä–µ—Å–∫–µ –±—ã–ª–æ —Å–ª—ã—à–Ω–æ —Ç–∏—Ö–æ–µ ¬´<i>–ü–æ—Ö–æ–∂–µ, —ç—Ç–æ –Ω–µ –º–æ—ë‚Ä¶</i>¬ª. –ê –ø–æ—Ç–æ–º —Ç–∏—à–∏–Ω–∞ –∏ –Ω–µ–ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∫—É–¥–∞ –∏–¥—Ç–∏ –¥–∞–ª—å—à–µüòî\n\n–ú–Ω–µ –∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –µ—Å–ª–∏ —Å—Ç–∞—Ä–∞—Ç—å—Å—è, —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –≤—ã—Ö–æ–¥–Ω—ã—Ö, –∏–¥—Ç–∏ –∫ —Å–≤–æ–∏–º —Ü–µ–ª—è–º, —Ç–æ —É—Å–ø–µ—Ö –ø—Ä–∏–¥–µ—Ç. –ù–æ —Ç–æ–ª—å–∫–æ —è –∑–∞–±—ã–ª–∞ —É–∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ —Ü–µ–ª–∏ –±—ã–ª–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–∏. –ò —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —è –ø–µ—Ä–µ—Å—Ç–∞–ª–∞ –±–µ–∂–∞—Ç—å, –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å –∏ —Å–ø—Ä–æ—Å–∏–ª–∞ —Å–µ–±—è ¬´<i>–∞ —á–µ–≥–æ —è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—á—É?</i>¬ª, ¬´<i>–∞ –≤–µ–¥—É—Ç –ª–∏ –º–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è –º–µ–Ω—è –∫ –º–æ–∏–º –º–µ—á—Ç–∞–º?</i>¬ª, —Ç–æ–≥–¥–∞ —è –≤—Å—ë –ø–æ–Ω—è–ª–∞‚Ä¶\n\n–û–∫–∞–∑–∞–ª–æ—Å—å, –º–æ–∂–Ω–æ –±—ã–ª–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Å–≤–æ—ë <b>—É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ</b> –∏ –ø–æ–∑–≤–æ–ª—è—Ç—å —Å–µ–±–µ –æ—Ç–¥—ã—Ö–∞—Ç—å. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ <b>–¥–µ–ª–∞—Ç—å —Ç–æ, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª—é–±–∏—à—å</b>, –∏ —É—Å–ø–µ—Ö –Ω–∞—á–Ω—ë—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –±–µ–∑ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–æ–∫. –†–∞–∑ - –∏ –ø–µ—Ä–≤—ã–π –º–∏–ª–ª–∏–æ–Ω –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤. –û–¥–Ω–æ –≤–∏–¥–µ–æ - –∞ —É –º–µ–Ω—è —É–∂–µ 200+ –∑–∞—è–≤–æ–∫ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏. –Ø –¥—É–º–∞–ª–∞, —Ç–∞–∫ –Ω–µ –±—ã–≤–∞–µ—Çüíî\n\n<b>–í—Å–ø–æ–º–Ω–∏—Ç–µ —Å–µ–π—á–∞—Å —Å–≤–æ—é –∂–∏–∑–Ω—å.</b> –ë—ã–ª–∏ –ª–∏ —É –≤–∞—Å —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –∫–∞–∫ –±—ã —Ç—ã –Ω–∏ —Å—Ç–∞—Ä–∞–ª—Å—è, –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è? –ê —Å–∏—Ç—É–∞—Ü–∏–∏, –≥–¥–µ –≤—Å—ë –±—É–¥—Ç–æ —Å–∫–ª–∞–¥—ã–≤–∞–ª–æ—Å—å —Å–∞–º–æ —Å–æ–±–æ–π? –î—É–º–∞–µ—Ç–µ, —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è?"

text_8 = "<b>–ö–ê–ö –°–ü–†–ê–í–ò–¢–¨–°–Ø –°–û –°–¢–†–ê–•–û–ú?</b>\n\n–í—Å–µ —ç–º–æ—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—Å–ø—ã—Ç—ã–≤–∞–µ–º, —è–≤–ª—è—é—Ç—Å—è <b>–ø–æ–ª–µ–∑–Ω—ã–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏</b>. –ü—Ä–∏—Ä–æ–¥–∞ —Å–æ–∑–¥–∞–ª–∞ –∏—Ö –Ω–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏—Å–ø–æ—Ä—Ç–∏—Ç—å –Ω–∞–º –∂–∏–∑–Ω—å. –£ –∫–∞–∂–¥–æ–π —ç–º–æ—Ü–∏–∏ –µ—Å—Ç—å —Å–≤–æ—è <b>—Ñ—É–Ω–∫—Ü–∏—è</b>‚ú®\n\n–°—Ç—Ä–∞—Ö –¥–∞—ë—Ç –Ω–∞–º <b>—ç–Ω–µ—Ä–≥–∏—é –¥–ª—è —É—Ö–æ–¥–∞ –æ—Ç –æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</b> –û–Ω –∑–∞–ª–æ–∂–µ–Ω –≤ –Ω–∞—à–µ–π –ø—Å–∏—Ö–∏–∫–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ–≤ –º–µ–¥–≤–µ–¥—è –≤ –∫—É—Å—Ç–∞—Ö, –º—ã —Å–ø—Ä—è—Ç–∞–ª–∏—Å—å –∏–ª–∏ —É–±–µ–∂–∞–ª–∏, —Ç–µ–º —Å–∞–º—ã–º —Å–ø–∞—Å–ª–∏ —Å–≤–æ—é –∂–∏–∑–Ω—å.\n\n–ù–æ —Å–µ–π—á–∞—Å –≤ –Ω–∞—à–µ–º –º–∏—Ä–µ —Ç–∞–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∏–º—É–ª–æ–≤, —á—Ç–æ –º—ã –º–æ–∂–µ–º –Ω–∞—á–∞—Ç—å –±–æ—è—Ç—å—Å—è –≤—Å–µ–≥–æ, –±–µ–∑ —Ä–∞–∑–±–æ—Ä–∞, —á—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –æ–ø–∞—Å–Ω–æ—Å—Ç—å, –∞ —á—Ç–æ –Ω–µ—Ç. –¢–∞–∫ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å - –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Å—Ç—Ä–∞—Ö –æ —á–∏—Å—Ç–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–º –±—É–¥—É—â–µ–º. –¢–∞–∫–∞—è —ç–º–æ—Ü–∏—è –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –æ—Ç–∫–∞–∑—É –æ—Ç –º–Ω–æ–≥–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–πüòî\n\n<i>–ë–æ—é—Å—å, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è // —á—Ç–æ –ø–æ—Ç–µ—Ä—è—é –≤—Ä–µ–º—è ‚Üí –≤–æ–æ–±—â–µ –Ω–µ –±—É–¥—É –ø—Ä–æ–±–æ–≤–∞—Ç—å</i>\n\n–°—Ç—Ä–∞—Ö ‚Äì –µ—â–µ –∏ —Å–∞–º–∞—è –æ–ø–∞—Å–Ω–∞—è —ç–º–æ—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–∫–∞–∑—ã–≤–∞–µ—Ç <b>–≤–ª–∏—è–Ω–∏–µ –Ω–∞ –Ω–∞—à–µ —Å–æ–∑–Ω–∞–Ω–∏–µ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.</b> –û–Ω –º–æ–∂–µ—Ç –±—É–∫–≤–∞–ª—å–Ω–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å –∏ –Ω–∞—à–µ —Ä–∞–∑–≤–∏—Ç–∏–µ. –í–æ—Ç —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å—Ç—Ä–∞—à–Ω–æüò°\n\n–¢–∞–∫ —á—Ç–æ –∂–µ –¥–µ–ª–∞—Ç—å?\n–ü—Ä–∏–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö, –∑–∞–º–µ—Ç—å—Ç–µ –µ–≥–æ, –¥–∞–π—Ç–µ –µ–º—É –º–µ—Å—Ç–æ. –í–∞–º –º–æ–∂–Ω–æ –±–æ—è—Ç—å—Å—è.\n–¢–µ–ø–µ—Ä—å —Å—Ç—Ä–∞—Ö –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∞–º–∏. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –æ—Å–æ–∑–Ω–∞–µ—Ç–µ –µ–≥–æ, —É –≤–∞—Å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å ‚Äì –≤—ã–±–∏—Ä–∞—Ç—å: ¬´<i>–î–∞, —è –±–æ—é—Å—å, –Ω–æ –Ω–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —ç—Ç–æ —è –º–æ–≥—É –∏–¥—Ç–∏ –∑–∞ —Å–≤–æ–∏–º–∏ –∂–µ–ª–∞–Ω–∏—è–º–∏</i>¬ª\n\n<i>–Ø –∂–∏–≤—É –≤—Å—é –æ—Å–æ–∑–Ω–∞–Ω–Ω—É—é –∂–∏–∑–Ω—å —Å –¥–µ–≤–∏–∑–æ–º ¬´–ë–æ–π—Å—è, –Ω–æ –¥–µ–ª–∞–π¬ª.</i> –ò –æ–Ω –ø–æ–º–æ–≥ –º–Ω–µ –¥–æ–±–∏—Ç—å—Å—è —Ç–æ–≥–æ, —á—Ç–æ —è –∏–º–µ—é.\n\n–ï—Å–ª–∏ —á—É–≤—Å—Ç–≤—É–µ—à—å, —á—Ç–æ –≥–æ—Ç–æ–≤(–∞) –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏—Å–∫–∞—Ç—å —Å–µ–±—è, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å—Ç—Ä–∞—Ö, –∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–æ—á–∫—É –Ω–∏–∂–µ üëáüèª"

text_9 = "<b>–ö–ê–ñ–ï–¢–°–Ø, –≠–¢–û –ù–ï –ú–û–Å‚Ä¶</b>üëÄ\n\n–ò –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –≤–µ—Å—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —Ç–∞–∫ –¥–æ–ª–≥–æ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞–ª, –±—É–¥—Ç–æ —Ä—É—à–∏—Ç—Å—è –ø–æ–¥ –Ω–æ–≥–∞–º–∏. –ö–∞–∫ —Ç–æ, –Ω–∞–¥ —á–µ–º —è —Ç–∞–∫ —Å—Ç–∞—Ä–∞—Ç–µ–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–ª–∞, –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ –º–æ–∏–º?\n\n–¢—ã –ø—Ä–æ—Å—Ç–æ –æ–¥–Ω–∞–∂–¥—ã –ø—Ä–æ—Å—ã–ø–∞–µ—à—å—Å—è —Å –º—ã—Å–ª—å—é ¬´<i>–Ø –Ω–µ —Ö–æ—á—É –¥–∞–ª—å—à–µ –∂–∏—Ç—å –¢–ê–ö.</i>¬ª. –ò —á—Ç–æ —Ç–µ–ø–µ—Ä—å –¥–µ–ª–∞—Ç—å —Å —ç—Ç–æ–π –º—ã—Å–ª—å—é? –ú–æ–∂–µ—Ç –∑–∞–±—ã—Ç—å, –æ—Ç–º–∞—Ö–Ω—É—Ç—å—Å—è, —Å–¥–µ–ª–∞—Ç—å –≤–∏–¥, —á—Ç–æ –Ω–µ –∑–∞–º–µ—Ç–∏–ª –µ—ë, –∏ –ø—Ä–æ—Å—Ç–æ –∂–∏—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ? –ù–æ –∫–∞–∫ —Ä–∞–Ω—å—à–µ —É–∂–µ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è, –≤–µ–¥—å —Å –∫–∞–∂–¥—ã–º –¥–Ω—ë–º —ç—Ç–∞ –º—ã—Å–ª—å –±—É–¥–µ—Ç –≤—Å—ë –≥—Ä–æ–º—á–µ –∫—Ä–∏—á–∞—Ç—å —Ç–µ–±–µ ¬´<i>–ø–æ—Ä–∞ —á—Ç–æ-—Ç–æ –º–µ–Ω—è—Ç—å!</i>¬ªüò≠\n\n–ò–º–µ–Ω–Ω–æ —ç—Ç–æ —è –ø–µ—Ä–µ–∂–∏–ª–∞, –∫–æ–≥–¥–∞ –æ—Å–æ–∑–Ω–∞–ª–∞, —á—Ç–æ –º–µ—Å—Ç–æ, –≤ –∫–æ—Ç–æ—Ä–æ–º —è –ø—Ä–æ—É—á–∏–ª–∞—Å—å 2 –≥–æ–¥–∞ (–∞ –¥–æ —ç—Ç–æ–≥–æ –µ—â—ë –ø–æ—Ç—Ä–∞—Ç–∏–ª–∞ –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–∏–ª–∏–π, —á—Ç–æ–±—ã –ø–æ—Å—Ç—É–ø–∏—Ç—å –Ω–∞ –±—é–¥–∂–µ—Ç) ‚Äì –Ω–µ –º–æ—ë.\n\n–ö–∞—Ä—Ç–∏–Ω–∞ –º–∞—Å–ª–æ–º: —è —Å–∏–∂—É –Ω–∞ –ø–∞—Ä–µ –∏ –º—ã—Å–ª—å, –∫–æ—Ç–æ—Ä—É—é —è –Ω–µ–¥–µ–ª—è–º–∏ –ø–æ–¥–∞–≤–ª—è–ª–∞, –Ω–µ –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –Ω–µ–∏—Å—Ç–æ–≤–æ –∫—Ä–∏—á–∞—Ç—å –≤ –≥–æ–ª–æ–≤–µ:\n‚Ä¢ ¬´–Ø –Ω–µ —Ö–æ—á—É –∑–¥–µ—Å—å –±—ã—Ç—å¬ª\n‚Ä¢ ¬´–Ø –Ω–µ –Ω–∞ —Å–≤–æ—ë–º –º–µ—Å—Ç–µ¬ª\n‚Ä¢ ¬´–Ø –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç—É—Ç¬ª\n\n–ù–∞ –≥–ª–∞–∑–∞—Ö –Ω–∞–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è —Å–ª—ë–∑—ã, —è —É–±–µ–≥–∞—é –≤ —Ç—É–∞–ª–µ—Ç –∏ –æ—Å—Ç–∞—é—Å—å –Ω–∞–µ–¥–∏–Ω–µ —Å –∂–µ–ª–∞–Ω–∏–µ–º –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –∑–∞–±—Ä–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –Ω–∏–∫–æ–≥–¥–∞.\n–≠—Ç–æ –±—ã–ª–∞ –º–æ—è –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–∞—Ä–∞ –≤ –ù–ì–£.\n\n–ù–æ –Ω–∞—Å—Ç–æ—è—â–∏–π –∞–¥ –Ω–∞—á–∞–ª—Å—è –ø–æ—Ç–æ–º. –ö–æ–≥–¥–∞ –ø—Ä–∏—à–ª–æ—Å—å —Å–∫–∞–∑–∞—Ç—å –º–∞–º–µ, –∞ –ø–æ—Ç–æ–º –∏ –≤—Å–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–º. –ù–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≥–æ–¥–∞ —è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤—ã—Å–ª—É—à–∏–≤–∞–ª–∞ –æ—Ç –æ–≥—Ä–æ–º–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª—é–¥–µ–π –æ—Å—É–∂–¥–µ–Ω–∏–µ –∏ –ø–æ–ø—ã—Ç–∫–∏ –ø–µ—Ä–µ—É–±–µ–¥–∏—Ç—å. –ú–Ω–µ –¥–∞–∂–µ –≥–æ–≤–æ—Ä–∏–ª–∏, —á—Ç–æ —è –Ω–µ —Å–º–æ–≥—É –ø–æ—Å—Ç—Ä–æ–∏—Ç—å —Å –ö–æ–ª–µ–π —Å–µ–º—å—é –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ —É –Ω–∞—Å –±—É–¥—É—Ç —Ä–∞–∑–Ω—ã–µ –≤–∑–≥–ª—è–¥—ã (–≤–µ–¥—å –æ–Ω –∑–∞–∫–æ–Ω—á–∏–ª –ù–ì–£, –∞ —è –Ω–µ—Ç)\n\n–ù–æ —è –Ω–µ –ø–æ—Å–ª—É—à–∞–ª–∞ –Ω–∏–∫–æ–≥–æ, –∫—Ä–æ–º–µ —Å–µ–±—è, –≤–µ–¥—å —Å –∫–∞–∂–¥—ã–º –¥–Ω—ë–º —É–±–µ–∂–¥–∞–ª–∞—Å—å, —á—Ç–æ –¥–µ–ª–∞—é –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ (—Ö–æ—Ç—è –æ—Ç–∫–∞—Ç—ã —Ç–æ–∂–µ –±—ã–ª–∏). –ò —Ç–µ–ø–µ—Ä—å –±–µ–∑—É–º–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–∞ —Å–µ–±–µ, –≤–µ–¥—å –≤—Å—ë —Å–ª–æ–∂–∏–ª–æ—Å—å –Ω–∞–∏–ª—É—á—à–∏–º –æ–±—Ä–∞–∑–æ–º! –ê —Å—Ç–æ–∏–ª–æ –ª–∏—à—å –ø–æ–Ω—è—Ç—å —Å–µ–±—èü§ç\n\n–ï—Å–ª–∏ —Ç–µ–±–µ –∑–Ω–∞–∫–æ–º—ã —Ç–∞–∫–∏–µ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è, –µ—â—ë <b>–º–æ–∂–Ω–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</b> –∫ –º–æ–µ–º—É –ø—Ä–æ–µ–∫—Ç—É ¬´–ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–≤–æ—ë –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ?¬ª, –ø–æ–∫–∞ –æ—Å—Ç–∞–ª–æ—Å—å <b>–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç!</b> –¢–∞–º —è –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ <b>25 –¥–Ω–µ–π</b> –±—É–¥—É –ø–æ–º–æ–≥–∞—Ç—å –≤–∞–º –Ω–∞–π—Ç–∏ —Å–µ–±—è —Å –ø–æ–º–æ—â—å—é —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫ –∏ –∑–Ω–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤ —Å–≤–æ—ë –≤—Ä–µ–º—è –ø–æ–º–æ–≥–ª–∏ –º–Ω–µ‚¨áÔ∏è"

text_10 = "<b>–ß–¢–û –ü–û–ú–û–ì–õ–û –ú–ù–ï –ù–ê–ô–¢–ò –°–ï–ë–Ø?</b>\n\n–í –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç —è –æ—Å–æ–∑–Ω–∞–ª–∞, —á—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –º—ã—Å–ª—é –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –ù–ê–î–û:\n¬´–ù–∞–¥–æ –≤—ã–ø–∏—Ç—å –∫–æ—Ñ–µ¬ª\n¬´–ù–∞–¥–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —É–∂–∏–Ω¬ª\n¬´–ù–∞–¥–æ –Ω–∞–¥–µ—Ç—å —ç—Ç—É –∫–æ—Ñ—Ç–æ—á–∫—É, –¥–∞–≤–Ω–æ –µ—ë –Ω–µ –Ω–æ—Å–∏–ª–∞¬ª\n\n–ê —ç—Ç–æ —Ç–æ–ª—å–∫–æ –º–µ–ª–æ—á–∏. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç–µ, —á—Ç–æ –±—ã–ª–æ, –∫–æ–≥–¥–∞ –¥–µ–ª–æ –∫–∞—Å–∞–ª–æ—Å—å —Ä–∞–±–æ—Ç—ã, —É—á—ë–±—ã –∏ —Ç–¥?ü§¶üèª‚Äç‚ôÄÔ∏è\n\n–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–¥—É–º–∞—Ç—å—Å—è, —á–µ–≥–æ —è —Ö–æ—á—É (–±–∞–Ω–∞–ª—å–Ω–æ —Å—ä–µ—Å—Ç—å –Ω–∞ –∑–∞–≤—Ç—Ä–∞–∫ –∫–∞—à—É –∏–ª–∏ —è–∏—á–Ω–∏—Ü—É), —è —Ç–æ–ª—å–∫–æ –¥–∏–∫—Ç–æ–≤–∞–ª–∞ —Å–µ–±–µ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å.\n\n–≠—Ç–æ –æ—Å–æ–∑–Ω–∞–Ω–∏–µ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –ø–æ—Ä–∞–∑–∏–ª–æ –º–µ–Ω—è, —á—Ç–æ –∏–∑ –≥–ª–∞–∑ –ø–æ—Ç–µ–∫–ª–∏ —Å–ª—ë–∑—ã‚Ä¶–ö–∞–∫ –∂–µ —è, –±—É–¥—É—á–∏ —Ç–∞–∫–æ–π ‚ú®–æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–π, –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π –∏ –≤–æ–æ–±—â–µ —Å–∞–º–æ–π —É–º–Ω–æ–π‚ú® –Ω–∞—Å—Ç–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–æ —Ä–∞–∑—É—á–∏–ª–∞—Å—å —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∂–µ–ª–∞–Ω–∏—è?\n\n<i>–í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –ö–æ–ª—è —Å–ø—Ä–æ—Å–∏–ª —É –º–µ–Ω—è:</i>\n- –ê —á–µ–≥–æ —Ö–æ—á–µ—à—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?\n- –ì—É–ª—è—Ç—å, - –æ—Ç–≤–µ—Ç–∏–ª–∞ —è.\n- –ü–æ–π–¥—ë–º!ü´∂üèª\n\n–í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç —è —Å–æ–≤—Å–µ–º —Ä–∞–∑—Ä—ã–¥–∞–ª–∞—Å—å –æ—Ç —É–¥–∏–≤–ª–µ–Ω–∏—è, —á—Ç–æ –º–æ–∂–Ω–æ –≤–æ—Ç —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ –∑–∞–±–∏—Ç—å –Ω–∞ —Ç–æ, —á—Ç–æ –ù–ê–î–û –ª–æ–∂–∏—Ç—å—Å—è —Å–ø–∞—Ç—å (–±—ã–ª —É–∂–µ —á–∞—Å –Ω–æ—á–∏), –∏ –≤–æ–æ–±—â–µ –æ–Ω –∂–µ –Ω–µ –ª—é–±–∏—Ç –≥—É–ª—è—Ç—å –≤ —Ö–æ–ª–æ–¥–Ω—É—é –ø–æ–≥–æ–¥—É‚Ä¶–û–∫–∞–∑–∞–ª–æ—Å—å, –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–≥–ª—è–Ω—É—Ç—å –≤–Ω—É—Ç—Ä—å —Å–µ–±—è –∏ –ø–æ–∑–≤–æ–ª–∏—Ç—å —Ö–æ—Ç—è –±—ã –Ω–∞ —Å–µ–∫—É–Ω–¥—É –∑–∞–¥—É–º–∞—Ç—å—Å—è, —á–µ–≥–æ —è —Å–µ–π—á–∞—Å —Ö–æ—á—É. –ò –ø—Ä–æ—Å—Ç–æ –ø–æ–π—Ç–∏ –≥—É–ª—è—Ç—å.\n\n–Ø –Ω–∞—à–ª–∞ –¥–ª—è —Å–µ–±—è –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ: <b>–ù–ê–ß–ê–¢–¨ –ß–£–í–°–¢–í–û–í–ê–¢–¨ –°–í–û–ò ¬´–•–û–ß–£¬ª</b>ü§ç\n\n–†–µ–≥—É–ª—è—Ä–Ω–æ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –¥–Ω—è —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —É —Å–µ–±—è:\n¬´–ß–µ–º —è —Ö–æ—á—É –ø–æ–∑–∞–≤—Ç—Ä–∞–∫–∞—Ç—å?¬ª\n¬´–ß—Ç–æ —è —Ö–æ—á—É –Ω–∞–¥–µ—Ç—å?¬ª\n¬´–ß–µ–º —è —Ö–æ—á—É —Å–µ–π—á–∞—Å –∑–∞–Ω—è—Ç—å—Å—è?¬ª –∏ —Ç–¥\n\n–í–∞–∂–Ω–æ –±—ã–ª–æ –Ω–∞—É—á–∏—Ç—å—Å—è –•–û–¢–ï–¢–¨ —á—Ç–æ-—Ç–æ –¥–µ–ª–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ –¥–æ—Ñ–∞–º–∏–Ω –≤—ã—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ –Ω–∞—à–∏—Ö –∂–µ–ª–∞–Ω–∏—è—Ö.\n–í—ã—Å–æ–∫–∏–π –¥–æ—Ñ–∞–º–∏–Ω = üìà —ç–Ω–µ—Ä–≥–∏–∏ –∏ —Å–∏–ª ‚Üí —É—Å–ø–µ–≤–∞–µ—à—å –±–æ–ª—å—à–µ\n\n–ü–æ—ç—Ç–æ–º—É –≤–∞–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ–±–µ –¥–æ—Ñ–∞–º–∏–Ω–æ–≤—ã–µ ¬´—Ö–æ—á—É¬ª\n\n<b>–î–æ—Ñ–∞–º–∏–Ω–æ–≤–∞—è —Ü–µ–ø–æ—á–∫–∞</b> –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: <b>—Ö–æ—á—É - –¥–µ–ª–∞—é - –ø–æ–ª—É—á–∞—é - —Ä–∞–¥—É—é—Å—å</b>\n\n<i>–¢–∞–∫ –º–æ–∂–Ω–æ –∏ —Å—á–∞—Å—Ç–ª–∏–≤—ã–º–∏ —Å—Ç–∞—Ç—åü•π</i>\n–¢—ã —Å–æ –º–Ω–æ–π?"

# ================= –ö–ù–û–ü–ö–ò =================

def kb_action(label: str, cb: str) -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text=label, callback_data=cb)]
    ])

def kb_details_and_go(details_label: str, go_label: str) -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text=details_label, callback_data="details")],
        [InlineKeyboardButton(text=go_label, callback_data="pay")]
    ])

def kb_pay_with_receipt(price: int) -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="–û–¢–ü–†–ê–í–ò–¢–¨ –ß–ï–ö", callback_data="send_receipt")]
    ])

def kb_details_go_only() -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="–Ø –ò–î–£!", callback_data="pay")]
    ])

# ================= SQLite =================

_db_lock = asyncio.Lock()
_conn: Optional[sqlite3.Connection] = None

def utcnow() -> datetime:
    return datetime.now(timezone.utc)

def dt_to_ts(dt: datetime) -> int:
    return int(dt.timestamp())

async def db_init():
    global _conn
    _conn = sqlite3.connect(DB_PATH, check_same_thread=False)
    _conn.execute("PRAGMA journal_mode=WAL;")
    _conn.execute("PRAGMA synchronous=NORMAL;")

    _conn.execute("""
    CREATE TABLE IF NOT EXISTS users (
        user_id INTEGER PRIMARY KEY,
        username TEXT,
        started_at INTEGER,
        paid INTEGER DEFAULT 0,
        discount_until INTEGER,
        awaiting_receipt INTEGER DEFAULT 0
    );
    """)

    _conn.execute("""
    CREATE TABLE IF NOT EXISTS queue (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        user_id INTEGER NOT NULL,
        step INTEGER NOT NULL,
        run_at INTEGER NOT NULL,
        sent_at INTEGER,
        UNIQUE(user_id, step),
        FOREIGN KEY(user_id) REFERENCES users(user_id)
    );
    """)

    # –ù–∞ –≤—Å—è–∫–∏–π ‚Äî –º—è–≥–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è, –µ—Å–ª–∏ –ë–î —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞
    await _ensure_column("users", "discount_until", "INTEGER")
    await _ensure_column("users", "awaiting_receipt", "INTEGER DEFAULT 0")
    await _ensure_column("users", "paid", "INTEGER DEFAULT 0")

    _conn.commit()

    # üëá —É–¥–∞–ª—è–µ–º —à–∞–≥ 99 –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –¥–ª—è –≤—Å–µ—Ö (—á—Ç–æ–±—ã –æ–Ω –Ω–µ —É–ª–µ—Ç–µ–ª –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞)
    await db_exec("DELETE FROM queue WHERE step=99")

async def _ensure_column(table: str, col: str, coltype: str):
    # sqlite pragma table_info
    async with _db_lock:
        cols = [r[1] for r in _conn.execute(f"PRAGMA table_info({table});").fetchall()]
        if col not in cols:
            _conn.execute(f"ALTER TABLE {table} ADD COLUMN {col} {coltype};")
            _conn.commit()

async def db_exec(sql: str, params=()):
    async with _db_lock:
        cur = _conn.execute(sql, params)
        _conn.commit()
        return cur

async def db_fetchone(sql: str, params=()):
    async with _db_lock:
        cur = _conn.execute(sql, params)
        return cur.fetchone()

async def db_fetchall(sql: str, params=()):
    async with _db_lock:
        cur = _conn.execute(sql, params)
        return cur.fetchall()

# ================= –ü–õ–ê–ù –í–û–†–û–ù–ö–ò =================

def build_schedule(start_dt: datetime) -> List[Tuple[int, int, int]]:
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ (step, run_at_ts, discount_until_ts)
    discount_until_ts —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ (—à–∞–≥2 + 1 —á–∞—Å)
    """
    t0 = start_dt

    t2 = t0 + timedelta(seconds=delay(minutes=40))
    discount_until = t2 + timedelta(seconds=delay(hours=1))

    schedule = []
    schedule.append((2, dt_to_ts(t2), dt_to_ts(discount_until)))

    t3 = t2 + timedelta(seconds=delay(hours=24))
    schedule.append((3, dt_to_ts(t3), dt_to_ts(discount_until)))

    t4 = t3 + timedelta(seconds=delay(hours=48))
    schedule.append((4, dt_to_ts(t4), dt_to_ts(discount_until)))

    cur = t4
    for step in range(5, 11):
        cur = cur + timedelta(seconds=delay(hours=48))
        schedule.append((step, dt_to_ts(cur), dt_to_ts(discount_until)))

    return schedule

async def enqueue_user(user_id: int, username: Optional[str]):
    now = utcnow()
    now_ts = dt_to_ts(now)

    existing = await db_fetchone("SELECT user_id FROM users WHERE user_id=?", (user_id,))
    schedule = build_schedule(now)
    _, _, discount_until_ts = schedule[0]

    if existing is None:
        await db_exec(
            "INSERT INTO users(user_id, username, started_at, paid, discount_until, awaiting_receipt) "
            "VALUES(?,?,?,0,?,0)",
            (user_id, username, now_ts, discount_until_ts)
        )
    else:
        await db_exec(
            "UPDATE users SET username=?, started_at=?, paid=0, discount_until=?, awaiting_receipt=0 "
            "WHERE user_id=?",
            (username, now_ts, discount_until_ts, user_id)
        )
        await db_exec("DELETE FROM queue WHERE user_id=?", (user_id,))

    for step, run_at, _ in schedule:
        await db_exec(
            "INSERT OR IGNORE INTO queue(user_id, step, run_at, sent_at) VALUES(?,?,?,NULL)",
            (user_id, step, run_at)
        )

async def reset_user_db(user_id: int):
    await db_exec("DELETE FROM queue WHERE user_id=?", (user_id,))
    await db_exec("DELETE FROM users WHERE user_id=?", (user_id,))

async def is_paid(user_id: int) -> bool:
    row = await db_fetchone("SELECT paid FROM users WHERE user_id=?", (user_id,))
    return bool(row and row[0] == 1)

async def already_started(user_id: int) -> bool:
    row = await db_fetchone("SELECT user_id FROM users WHERE user_id=?", (user_id,))
    return row is not None

async def get_current_price(user_id: int) -> int:
    row = await db_fetchone("SELECT discount_until FROM users WHERE user_id=?", (user_id,))
    if not row or not row[0]:
        return FULL_PRICE
    discount_until = int(row[0])
    now_ts = dt_to_ts(utcnow())
    return DISCOUNT_PRICE if now_ts <= discount_until else FULL_PRICE

async def set_awaiting_receipt(user_id: int, value: int):
    await db_exec("UPDATE users SET awaiting_receipt=? WHERE user_id=?", (value, user_id))

async def is_awaiting_receipt(user_id: int) -> bool:
    row = await db_fetchone("SELECT awaiting_receipt FROM users WHERE user_id=?", (user_id,))
    return bool(row and int(row[0]) == 1)

async def confirm_purchase(user_id: int):
    # –ø–æ–∫—É–ø–∫–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–π —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —á–µ–∫–∞
    await db_exec("UPDATE users SET paid=1, awaiting_receipt=0 WHERE user_id=?", (user_id,))
    # –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–æ—Ä–æ–Ω–∫—É
    now_ts = dt_to_ts(utcnow())
    await db_exec("UPDATE queue SET sent_at=? WHERE user_id=? AND sent_at IS NULL", (now_ts, user_id))

# ================= –û–¢–ü–†–ê–í–ö–ê –ü–û –®–ê–ì–£ =================

async def send_step(user_id: int, step: int):
    if await is_paid(user_id):
        return

    if step == 2:
        # 1) –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∞–ª—å–±–æ–º —Ñ–æ—Ç–æ
        media = [InputMediaPhoto(media=fid) for fid in STEP2_PHOTOS]
        await bot.send_media_group(chat_id=user_id, media=media)

        # 2) –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ + –∫–Ω–æ–ø–∫—É
        await bot.send_message(
            chat_id=user_id,
            text=text_2,
            reply_markup=kb_action("–∫—É–ø–∏—Ç—å", "pay")
        )
    elif step == 3:
        await bot.send_message(user_id, text_3, reply_markup=kb_action("–•–û–ß–£", "pay"))
    elif step == 4:
        await bot.send_message(user_id, text_4, reply_markup=kb_details_and_go("–£–ó–ù–ê–¢–¨ –ü–û–î–†–û–ë–ù–û–°–¢–ò", "–ü–†–ò–ù–Ø–¢–¨ –£–ß–ê–°–¢–ò–ï"))
    elif step == 5:
        await bot.send_message(user_id, text_5, reply_markup=kb_details_and_go("–£–ó–ù–ê–¢–¨ –ü–û–î–†–û–ë–ù–û–°–¢–ò", "–ó–ê–ü–ò–°–ê–¢–¨–°–Ø"))
    elif step == 6:
        await bot.send_message(user_id, text_6, reply_markup=kb_details_and_go("–ü–û–î–†–û–ë–ù–ï–ï", "–Ø –ò–î–£!"))
    elif step == 7:
        await bot.send_message(user_id, text_7, reply_markup=kb_action("–ü–û–ù–Ø–¢–¨, –ß–ï–ú –•–û–ß–£ –ó–ê–ù–ò–ú–ê–¢–¨–°–Ø", "pay"))
    elif step == 8:
        await bot.send_message(user_id, text_8, reply_markup=kb_details_and_go("–†–ê–°–°–ö–ê–ñ–ò –ü–û–î–†–û–ë–ù–ï–ï", "–£–ì–û–í–û–†–ò–õ–ê"))
    elif step == 9:
        await bot.send_message(user_id, text_9, reply_markup=kb_action("–î–ï–õ–ê–ï–ú!", "pay"))
    elif step == 10:
        await bot.send_message(user_id, text_10, reply_markup=kb_action("–õ–ï–¢–° –ì–û–£", "pay"))

# ================= –í–û–†–ö–ï–† –û–ß–ï–†–ï–î–ò =================

async def queue_worker():
    logging.info("Queue worker started")
    while True:
        try:
            now_ts = dt_to_ts(utcnow())
            rows = await db_fetchall(
                "SELECT id, user_id, step FROM queue "
                "WHERE sent_at IS NULL AND run_at <= ? "
                "ORDER BY run_at ASC LIMIT 20",
                (now_ts,)
            )

            if not rows:
                await asyncio.sleep(1 if TEST_MODE else 3)
                continue

            for qid, user_id, step in rows:
                # –ø–æ–º–µ—Ç–∏–º, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–µ–π –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ
                await db_exec("UPDATE queue SET sent_at=? WHERE id=?", (now_ts, qid))
                try:
                    await send_step(user_id, step)
                except Exception as e:
                    logging.error(f"Send step error user={user_id} step={step}: {e}")
                    # –æ—Ç–∫–∞—Ç
                    await db_exec("UPDATE queue SET sent_at=NULL WHERE id=?", (qid,))

        except Exception as e:
            logging.error(f"Worker loop error: {e}")

        await asyncio.sleep(0)

# ================= PAY FLOW =================

def payment_message(price: int) -> str:

    if price == DISCOUNT_PRICE:
        price_text = f"<s>{FULL_PRICE} —Ä—É–±–ª–µ–π</s> <b>{DISCOUNT_PRICE} —Ä—É–±–ª–µ–π</b>"
    else:
        price_text = f"<b>{FULL_PRICE} —Ä—É–±–ª–µ–π</b>"

    return (
        "–ë–ª–∞–≥–æ–¥–∞—Ä—é –∑–∞ –¥–æ–≤–µ—Ä–∏–µ! –î–∞–≤–∞–π —Ä—É–∫—É –∏ –ø–æ–π–¥—ë–º –≤–º–µ—Å—Ç–µ –∏—Å–∫–∞—Ç—å —Ç–≤–æ—ë –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ ü´±üèªü´≤üèª\n\n"
        f"–î–ª—è –æ–ø–ª–∞—Ç—ã –º–µ—Å—Ç–∞ –Ω–∞ –∫—É—Ä—Å–µ –ø–µ—Ä–µ–≤–µ–¥–∏ {price_text} –ø–æ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º:\n\n"
        "<b>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞:</b> 89139034994\n"
        "<b>–ò–õ–ò –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:</b> 2200011679704925\n"
        "–ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫\n"
        "–ü–æ–ª—É—á–∞—Ç–µ–ª—å: –õ–æ–±–∞–Ω–æ–≤–∞ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞\n\n"
        "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –ø—Ä–∏—à–ª–∏ —á–µ–∫ —Å—é–¥–∞, —è –ø—Ä–æ–≤–µ—Ä—é –µ–≥–æ –∏ –¥–æ–±–∞–≤–ª—é —Ç–µ–±—è –≤ —á–∞—Ç –∫—É—Ä—Å–∞‚ú®"
    )
# ================= HANDLERS =================

@dp.message(CommandStart())
async def start(message: Message):
    user_id = message.from_user.id
    username = message.from_user.username

    if await already_started(user_id):
        await message.answer("–¢—ã —É–∂–µ –ø—Ä–æ—Ö–æ–¥–∏—à—å –≤–æ—Ä–æ–Ω–∫—É üíõ\n–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –∑–∞–Ω–æ–≤–æ ‚Äî –Ω–∞–ø–∏—à–∏ /reset")
        return

    # 1: —Å—Ä–∞–∑—É
    if VIDEO_ENABLED:
        await message.answer_video(video=VIDEO_FILE_ID, caption=text_1)
    else:
        await message.answer(text_1)

    await enqueue_user(user_id, username)
    logging.info(f"User enqueued {user_id} @{username}")

@dp.message(F.text == "/reset")
async def reset_cmd(message: Message):
    await reset_user_db(message.from_user.id)
    await message.answer("–û–∫ üëå –Ø –∑–∞–±—ã–ª(–∞) —Ç–µ–±—è. –ú–æ–∂–µ—à—å —Å–Ω–æ–≤–∞ –Ω–∞–∂–∞—Ç—å /start")

@dp.callback_query(F.data == "details")
async def details_cb(callback: CallbackQuery):
    user_id = callback.from_user.id

    # 1) –∞–ª—å–±–æ–º —Ñ–æ—Ç–æ
    media = [InputMediaPhoto(media=fid) for fid in STEP2_PHOTOS]
    await bot.send_media_group(chat_id=user_id, media=media)

    # 2) —Ç–µ–∫—Å—Ç + –∫–Ω–æ–ø–∫–∞
    await callback.message.answer(
        DETAILS_TEXT,
        reply_markup=kb_action("–ö–£–î–ê –ü–õ–ê–¢–ò–¢–¨?", "pay")
    )

    await callback.answer()

@dp.callback_query(F.data == "pay")
async def pay_cb(callback: CallbackQuery):
    user_id = callback.from_user.id

    if await is_paid(user_id):
        await callback.message.answer("–¢—ã —É–∂–µ –æ—Ç–ø—Ä–∞–≤–∏–ª(–∞) —á–µ–∫ ‚úÖ –ï—Å–ª–∏ —á—Ç–æ ‚Äî –Ω–∞–ø–∏—à–∏ –º–Ω–µ –µ—â—ë —Ä–∞–∑ üíõ")
        await callback.answer()
        return

    price = await get_current_price(user_id)
    await callback.message.answer(payment_message(price), reply_markup=kb_pay_with_receipt(price))
    await callback.answer()

@dp.callback_query(F.data == "send_receipt")
async def send_receipt_cb(callback: CallbackQuery):
    user_id = callback.from_user.id

    if await is_paid(user_id):
        await callback.message.answer("–ü–æ–∫—É–ø–∫–∞ —É–∂–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ ‚úÖ")
        await callback.answer()
        return

    await set_awaiting_receipt(user_id, 1)
    await callback.message.answer("–û—Ç–ø—Ä–∞–≤—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ñ–æ—Ç–æ –∏–ª–∏ —Ñ–∞–π–ª —á–µ–∫–∞ —Å—é–¥–∞ üëá")
    await callback.answer()

# 3) –ü—Ä–∏–Ω–∏–º–∞–µ–º —á–µ–∫ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ "–û–¢–ü–†–ê–í–ò–¢–¨ –ß–ï–ö"
@dp.message(F.photo)
async def receipt_photo(message: Message):
    user_id = message.from_user.id
    if not await is_awaiting_receipt(user_id):
        return

    price = await get_current_price(user_id)

    # –±–µ—Ä—ë–º —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ —Ñ–æ—Ç–æ
    photo = message.photo[-1].file_id

    caption = (
        f"‚úÖ <b>–ß–ï–ö –ü–û–õ–£–ß–ï–ù</b>\n"
        f"User: <b>{message.from_user.full_name}</b>\n"
        f"Username: @{message.from_user.username}\n"
        f"User ID: <code>{user_id}</code>\n"
        f"–°—É–º–º–∞: <b>{price}‚ÇΩ</b>\n"
        f"–í—Ä–µ–º—è (UTC): {utcnow().strftime('%Y-%m-%d %H:%M:%S')}"
    )

    for admin_id in ADMIN_IDS:
        try:
            await bot.send_photo(admin_id, photo=photo, caption=caption)
        except Exception as e:
            logging.warning(f"–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω—É {admin_id}: {e}")
    await confirm_purchase(user_id)

    await message.answer("–°–ø–∞—Å–∏–±–æ! ‚úÖ –ß–µ–∫ –ø–æ–ª—É—á–µ–Ω. –Ø —Å–∫–æ—Ä–æ –ø–æ–¥—Ç–≤–µ—Ä–∂—É –æ–ø–ª–∞—Ç—É üíõ")

@dp.message(F.document)
async def receipt_document(message: Message):
    user_id = message.from_user.id
    if not await is_awaiting_receipt(user_id):
        return

    price = await get_current_price(user_id)
    doc_id = message.document.file_id

    caption = (
        f"‚úÖ <b>–ß–ï–ö –ü–û–õ–£–ß–ï–ù</b>\n"
        f"User: <b>{message.from_user.full_name}</b>\n"
        f"Username: @{message.from_user.username}\n"
        f"User ID: <code>{user_id}</code>\n"
        f"–°—É–º–º–∞: <b>{price}‚ÇΩ</b>\n"
        f"–í—Ä–µ–º—è (UTC): {utcnow().strftime('%Y-%m-%d %H:%M:%S')}"
    )

    for admin_id in ADMIN_IDS:
        try:
            await bot.send_document(admin_id, document=doc_id, caption=caption)
        except Exception as e:
            logging.warning(f"–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω—É {admin_id}: {e}")

    await confirm_purchase(user_id)

    await message.answer("–°–ø–∞—Å–∏–±–æ! ‚úÖ –ß–µ–∫ –ø–æ–ª—É—á–µ–Ω. –Ø —Å–∫–æ—Ä–æ –ø–æ–¥—Ç–≤–µ—Ä–∂—É –æ–ø–ª–∞—Ç—É üíõ")

# ================= –ó–ê–ü–£–°–ö =================

async def main():
    logging.info("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω üöÄ")
    await db_init()
    asyncio.create_task(queue_worker())
    await dp.start_polling(bot)

if __name__ == "__main__":
    asyncio.run(main())